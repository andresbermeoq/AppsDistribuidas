<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:p="http://primefaces.org/ui">


<!-- Bootstrap -->
<h:outputStylesheet library="webjars"
	name="bootstrap/4.5.2/css/bootstrap.css" />
<h:outputScript library="webjars" name="bootstrap/4.5.2/js/bootstrap.js" />

<h:head>
	<title>Sección retiros</title>
</h:head>
<body>
	<h4>Bien venido</h4>
	<h:form>
		<h:outputLabel
			value="#{loginBean.user.nombre} #{loginBean.user.apellido}" style="background-color:#ADFBF3" />
	</h:form>

	<nav class="navbar navbar-expand-lg navbar-light bg-light"> <a
		class="navbar-brand" href="#">Banco Nacional</a>
	<button class="navbar-toggler" type="button" data-toggle="collapse"
		data-target="#navbarNav" aria-controls="navbarNav"
		aria-expanded="false" aria-label="Toggle navigation">
		<span class="navbar-toggler-icon"></span>
	</button>
	<div class="collapse navbar-collapse" id="navbarNav">
		<ul class="navbar-nav">
			<li class="nav-item active"><a class="nav-link"
				href="faces/index.xhtml">Home <span class="sr-only">(current)</span></a>
			</li>
			<li class="nav-item"><a class="nav-link"
				href="CajeroView.xhtml">Regresar</a></li>
			<li class="nav-item"><a class="nav-link" href="#">Transferir</a>
			</li>
		</ul>
	</div>
	<span class="navbar-text"> <h:form>
			<h:commandLink action="#{loginBean.logoutUser()}"
				value="Cerrar sesión" />
		</h:form>
	</span> </nav>
	<div>
		<h:message for="formDatBusqueda" class="alert alert-danger" />
		<h:form id="formDatBusqueda">
			<h:panelGrid columns="3">
				<h:outputLabel value="Cédula cliente" />
				<h:inputText value="#{cajeroBean.cedula}" maxlength="10"
					id="cedulaClientebus" class="form-control" />
				<h:message for="cedulaClientebus" class="alert alert-danger" />

				<h:outputLabel value="Número de cuenta" />
				<h:inputText value="#{cajeroBean.cuenta}" maxlength="20"
					id="ctaClientebus" class="form-control" />

				<h:message for="ctaClientebus" class="alert alert-danger" />
				<h:commandButton action="#{cajeroBean.buscarReitiro()}"
					value="Buscar" class="btn btn-primary" />
			</h:panelGrid>
			<div>
				<h:panelGrid columns="2">
					<h:outputLabel value="Cliente: " />
					<h:outputLabel value="#{cajeroBean.cliente.usuario.nombre}  #{cajeroBean.cliente.usuario.apellido}" />
					
					<h:outputLabel value="Saldo disponible:  " />
					<h:outputLabel value="#{cajeroBean.saldo}" style="font-weight: bold;" />
				</h:panelGrid>
				<hr/>
				<br />
				<h4>Datos del beneficiario</h4>
				<h:panelGrid columns="3">
					<h:outputLabel value="Nombre del beneficiario" />
					<h:inputText value="#{cajeroBean.transaccion.nombre}" id="nomDepo" class="form-control" />
					<h:message for="nomDepo" />
					<h:outputLabel value="Cedula del beneficiario" />
					<h:inputText value="#{cajeroBean.transaccion.identificacion}"
						id="cedDepo"  class="form-control" />
					<h:message for="cedDepo" />
					<h:outputLabel value="Mónto a retirar " />
					<h:inputText value="#{cajeroBean.transaccion.monto}" id="txtmonto" class="form-control" />
					<h:message for="txtmonto" />

					<h:outputLabel value="Observaciones" />
					<h:inputTextarea value="#{cajeroBean.transaccion.observacion}" />
					<br/>
					<h:commandButton action="#{cajeroBean.retirar()}"
						value="Retirar" class="btn btn-info" />
					<h:message for="formdepo" class="alert alert-danger" />
				</h:panelGrid>
			</div>
		</h:form>
	</div>
</body>
</html>